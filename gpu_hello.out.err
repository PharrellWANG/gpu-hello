2018-07-22 16:08:20.811727: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-07-22 16:08:20.811727: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2018-07-22 16:08:21.190782: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:07:00.0
totalMemory: 11.92GiB freeMemory: 11.85GiB
2018-07-22 16:08:21.191048: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:85:00.0
totalMemory: 11.92GiB freeMemory: 11.85GiB
2018-07-22 16:08:21.191672: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-07-22 16:08:21.191705: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-07-22 16:08:21.527689: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-07-22 16:08:21.528274: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-07-22 16:08:21.528694: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-07-22 16:08:21.529457: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/device:GPU:0 with 11491 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:85:00.0, compute capability: 3.7)
2018-07-22 16:08:21.570207: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-07-22 16:08:21.570706: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-07-22 16:08:21.571120: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-07-22 16:08:21.571777: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/device:GPU:0 with 11491 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:07:00.0, compute capability: 3.7)
2018-07-22 16:08:21.807263: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-07-22 16:08:21.807867: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-07-22 16:08:21.808291: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-07-22 16:08:21.808689: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-07-22 16:08:21.809238: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 11491 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:85:00.0, compute capability: 3.7)
2018-07-22 16:08:21.810793: I tensorflow/core/common_runtime/direct_session.cc:284] Device mapping:
/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: Tesla K80, pci bus id: 0000:85:00.0, compute capability: 3.7

2018-07-22 16:08:21.812330: I tensorflow/core/common_runtime/placer.cc:886] MatMul: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.812775: I tensorflow/core/common_runtime/placer.cc:886] b: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.813196: I tensorflow/core/common_runtime/placer.cc:886] a: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.827711: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-07-22 16:08:21.828218: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-07-22 16:08:21.828644: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-07-22 16:08:21.829059: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-07-22 16:08:21.829686: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 11491 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:85:00.0, compute capability: 3.7)
2018-07-22 16:08:21.830359: I tensorflow/core/common_runtime/direct_session.cc:284] Device mapping:
/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: Tesla K80, pci bus id: 0000:85:00.0, compute capability: 3.7

2018-07-22 16:08:21.832060: I tensorflow/core/common_runtime/placer.cc:886] MatMul_1: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.832483: I tensorflow/core/common_runtime/placer.cc:886] MatMul: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.832881: I tensorflow/core/common_runtime/placer.cc:886] b_1: (Const)/job:localhost/replica:0/task:0/device:CPU:0
2018-07-22 16:08:21.833252: I tensorflow/core/common_runtime/placer.cc:886] a_1: (Const)/job:localhost/replica:0/task:0/device:CPU:0
2018-07-22 16:08:21.833612: I tensorflow/core/common_runtime/placer.cc:886] b: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.833984: I tensorflow/core/common_runtime/placer.cc:886] a: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.834532: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-07-22 16:08:21.834963: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-07-22 16:08:21.835399: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-07-22 16:08:21.835822: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-07-22 16:08:21.836470: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 11491 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:07:00.0, compute capability: 3.7)
2018-07-22 16:08:21.837967: I tensorflow/core/common_runtime/direct_session.cc:284] Device mapping:
/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: Tesla K80, pci bus id: 0000:07:00.0, compute capability: 3.7

2018-07-22 16:08:21.838888: I tensorflow/core/common_runtime/placer.cc:886] MatMul: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.839244: I tensorflow/core/common_runtime/placer.cc:886] b: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.839608: I tensorflow/core/common_runtime/placer.cc:886] a: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.844449: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-07-22 16:08:21.844935: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-07-22 16:08:21.845303: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-07-22 16:08:21.845717: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-07-22 16:08:21.846389: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 11491 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:85:00.0, compute capability: 3.7)
2018-07-22 16:08:21.846979: I tensorflow/core/common_runtime/direct_session.cc:284] Device mapping:
/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: Tesla K80, pci bus id: 0000:85:00.0, compute capability: 3.7

2018-07-22 16:08:21.848866: I tensorflow/core/common_runtime/placer.cc:886] MatMul_2: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.849363: I tensorflow/core/common_runtime/placer.cc:886] MatMul_1: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.849679: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-07-22 16:08:21.850155: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-07-22 16:08:21.850190: I tensorflow/core/common_runtime/placer.cc:886] MatMul: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.850602: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-07-22 16:08:21.851307: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-07-22 16:08:21.851690: I tensorflow/core/common_runtime/placer.cc:886] b_2: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.851887: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 11491 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:07:00.0, compute capability: 3.7)
2018-07-22 16:08:21.852522: I tensorflow/core/common_runtime/placer.cc:886] a_2: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.852662: I tensorflow/core/common_runtime/direct_session.cc:284] Device mapping:
/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: Tesla K80, pci bus id: 0000:07:00.0, compute capability: 3.7

2018-07-22 16:08:21.852977: I tensorflow/core/common_runtime/placer.cc:886] b_1: (Const)/job:localhost/replica:0/task:0/device:CPU:0
2018-07-22 16:08:21.853704: I tensorflow/core/common_runtime/placer.cc:886] a_1: (Const)/job:localhost/replica:0/task:0/device:CPU:0
2018-07-22 16:08:21.854089: I tensorflow/core/common_runtime/placer.cc:886] b: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.854368: I tensorflow/core/common_runtime/placer.cc:886] MatMul_1: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.854474: I tensorflow/core/common_runtime/placer.cc:886] a: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.854868: I tensorflow/core/common_runtime/placer.cc:886] MatMul: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.855628: I tensorflow/core/common_runtime/placer.cc:886] b_1: (Const)/job:localhost/replica:0/task:0/device:CPU:0
2018-07-22 16:08:21.856038: I tensorflow/core/common_runtime/placer.cc:886] a_1: (Const)/job:localhost/replica:0/task:0/device:CPU:0
2018-07-22 16:08:21.856452: I tensorflow/core/common_runtime/placer.cc:886] b: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.856863: I tensorflow/core/common_runtime/placer.cc:886] a: (Const)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.863974: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-07-22 16:08:21.864436: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-07-22 16:08:21.864855: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-07-22 16:08:21.865243: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-07-22 16:08:21.865826: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 11491 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:85:00.0, compute capability: 3.7)
2018-07-22 16:08:21.865963: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-07-22 16:08:21.866409: I tensorflow/core/common_runtime/direct_session.cc:284] Device mapping:
/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: Tesla K80, pci bus id: 0000:85:00.0, compute capability: 3.7

2018-07-22 16:08:21.866735: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-07-22 16:08:21.867491: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-07-22 16:08:21.867883: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-07-22 16:08:21.868468: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 11491 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:07:00.0, compute capability: 3.7)
2018-07-22 16:08:21.869057: I tensorflow/core/common_runtime/direct_session.cc:284] Device mapping:
/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: Tesla K80, pci bus id: 0000:07:00.0, compute capability: 3.7

Traceback (most recent call last):
  File "/home/staff/zxpwang2/downloads/condor_demo_cslab/pharrellwang_gpu_hello/gpu_hello.py", line 83, in <module>
    2018-07-22 16:08:21.870961: I tensorflow/core/common_runtime/placer.cc:886] MatMul_2: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
print(sess.run(c))
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 900, in run
2018-07-22 16:08:21.871836: I tensorflow/core/common_runtime/placer.cc:886] MatMul_1: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.872574: I tensorflow/core/common_runtime/placer.cc:886] MatMul: (MatMul)/job:localhost/replica:0/task:0/device:GPU:0
2018-07-22 16:08:21.872964: I tensorflow/core/common_runtime/placer.cc:886] b_2: (Const)/job:localhost/replica:0/task:0/device:GPU:0
    2018-07-22 16:08:21.873319: I tensorflow/core/common_runtime/placer.cc:886] a_2: (Const)/job:localhost/replica:0/task:0/device:GPU:0
run_metadata_ptr)
2018-07-22 16:08:21.874046: I tensorflow/core/common_runtime/placer.cc:886] b_1: (Const)/job:localhost/replica:0/task:0/device:CPU:0
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
2018-07-22 16:08:21.874738: I tensorflow/core/common_runtime/placer.cc:886] a_1: (Const)/job:localhost/replica:0/task:0/device:CPU:0
2018-07-22 16:08:21.875374: I tensorflow/core/common_runtime/placer.cc:886] b: (Const)/job:localhost/replica:0/task:0/device:GPU:0
    2018-07-22 16:08:21.875724: I tensorflow/core/common_runtime/placer.cc:886] a: (Const)/job:localhost/replica:0/task:0/device:GPU:0
feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: Cannot assign a device for operation 'MatMul_3': Operation was explicitly assigned to /device:GPU:2 but available devices are [ /job:localhost/replica:0/task:0/device:CPU:0, /job:localhost/replica:0/task:0/device:GPU:0 ]. Make sure the device specification refers to a valid device.
	 [[Node: MatMul_3 = MatMul[T=DT_FLOAT, transpose_a=false, transpose_b=false, _device="/device:GPU:2"](a_3, b_3)]]

Caused by op u'MatMul_3', defined at:
  File "/home/staff/zxpwang2/downloads/condor_demo_cslab/pharrellwang_gpu_hello/gpu_hello.py", line 78, in <module>
    c = tf.matmul(a, b)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/math_ops.py", line 2122, in matmul
    a, b, transpose_a=transpose_a, transpose_b=transpose_b, name=name)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_math_ops.py", line 4279, in mat_mul
    name=name)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): Cannot assign a device for operation 'MatMul_3': Operation was explicitly assigned to /device:GPU:2 but available devices are [ /job:localhost/replica:0/task:0/device:CPU:0, /job:localhost/replica:0/task:0/device:GPU:0 ]. Make sure the device specification refers to a valid device.
	 [[Node: MatMul_3 = MatMul[T=DT_FLOAT, transpose_a=false, transpose_b=false, _device="/device:GPU:2"](a_3, b_3)]]

2018-07-22 16:08:21.886229: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0
2018-07-22 16:08:21.886995: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2018-07-22 16:08:21.887475: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 
2018-07-22 16:08:21.887875: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N 
2018-07-22 16:08:21.888478: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 11491 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:07:00.0, compute capability: 3.7)
2018-07-22 16:08:21.889017: I tensorflow/core/common_runtime/direct_session.cc:284] Device mapping:
/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: Tesla K80, pci bus id: 0000:07:00.0, compute capability: 3.7

Traceback (most recent call last):
  File "/home/staff/zxpwang2/downloads/condor_demo_cslab/pharrellwang_gpu_hello/gpu_hello.py", line 83, in <module>
    print(sess.run(c))
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 900, in run
    run_metadata_ptr)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1135, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1316, in _do_run
    run_metadata)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1335, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: Cannot assign a device for operation 'MatMul_3': Operation was explicitly assigned to /device:GPU:2 but available devices are [ /job:localhost/replica:0/task:0/device:CPU:0, /job:localhost/replica:0/task:0/device:GPU:0 ]. Make sure the device specification refers to a valid device.
	 [[Node: MatMul_3 = MatMul[T=DT_FLOAT, transpose_a=false, transpose_b=false, _device="/device:GPU:2"](a_3, b_3)]]

Caused by op u'MatMul_3', defined at:
  File "/home/staff/zxpwang2/downloads/condor_demo_cslab/pharrellwang_gpu_hello/gpu_hello.py", line 78, in <module>
    c = tf.matmul(a, b)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/math_ops.py", line 2122, in matmul
    a, b, transpose_a=transpose_a, transpose_b=transpose_b, name=name)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_math_ops.py", line 4279, in mat_mul
    name=name)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py", line 3392, in create_op
    op_def=op_def)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py", line 1718, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): Cannot assign a device for operation 'MatMul_3': Operation was explicitly assigned to /device:GPU:2 but available devices are [ /job:localhost/replica:0/task:0/device:CPU:0, /job:localhost/replica:0/task:0/device:GPU:0 ]. Make sure the device specification refers to a valid device.
	 [[Node: MatMul_3 = MatMul[T=DT_FLOAT, transpose_a=false, transpose_b=false, _device="/device:GPU:2"](a_3, b_3)]]

